
-- 1. Категории блюд
INSERT INTO categories (name, description, display_order) VALUES
    ('Закуски', 'Холодные и горячие закуски', 1),
    ('Салаты', 'Свежие салаты', 2),
    ('Супы', 'Первые блюда', 3),
    ('Основные блюда', 'Горячие блюда из мяса, рыбы, птицы', 4),
    ('Гарниры', 'Картофель, рис, овощи', 5),
    ('Десерты', 'Сладкие блюда', 6),
    ('Напитки', 'Безалкогольные напитки', 7),
    ('Алкоголь', 'Вина, крепкие напитки', 8);

-- 2. Блюда
INSERT INTO dishes (category_id, name, description, price, weight_grams, calories, preparation_time_minutes) VALUES
    (1, 'Брускетта с томатами', 'Тосты с помидорами, базиликом и оливковым маслом', 350.00, 180, 320, 10),
    (1, 'Сырное ассорти', 'Три вида сыра с медом и орехами', 650.00, 200, 580, 7),
    (2, 'Цезарь с курицей', 'Классический салат с курицей, пармезаном и соусом', 480.00, 250, 420, 12),
    (2, 'Греческий салат', 'Овощи, сыр фета, маслины', 420.00, 280, 280, 8),
    (3, 'Тыквенный суп-пюре', 'Крем-суп из тыквы со сливками', 350.00, 300, 210, 15),
    (3, 'Борщ', 'Украинский борщ с пампушками', 390.00, 350, 250, 20),
    (4, 'Стейк Рибай', 'Мраморная говядина на гриле', 1890.00, 300, 680, 25),
    (4, 'Лосось на гриле', 'Филе лосося с овощами', 1250.00, 280, 520, 20),
    (5, 'Картофель фри', 'Хрустящий картофель', 220.00, 150, 350, 12),
    (5, 'Овощи гриль', 'Кабачки, перец, баклажаны', 280.00, 200, 150, 15),
    (6, 'Чизкейк Нью-Йорк', 'Классический чизкейк с ягодным соусом', 380.00, 180, 450, 5),
    (6, 'Тирамису', 'Итальянский десерт с маскарпоне', 390.00, 160, 410, 5),
    (7, 'Морс клюквенный', 'Домашний морс', 180.00, 250, 90, 3),
    (7, 'Лимонад', 'Домашний лимонад с мятой', 250.00, 300, 120, 4),
    (8, 'Вино красное сухое', 'Итальянское вино, 0.75 л', 890.00, 750, 620, 2),
    (8, 'Пиво светлое', 'Чешское пиво, 0.5 л', 320.00, 500, 210, 1);

-- 3. Ингредиенты
INSERT INTO ingredients (name, unit, stock_quantity) VALUES
    ('Куриное филе', 'кг', 15.5),
    ('Говядина', 'кг', 10.2),
    ('Лосось', 'кг', 8.0),
    ('Помидоры', 'кг', 20.0),
    ('Огурцы', 'кг', 18.5),
    ('Сыр пармезан', 'кг', 5.0),
    ('Сыр фета', 'кг', 4.5),
    ('Картофель', 'кг', 50.0),
    ('Лук репчатый', 'кг', 12.0),
    ('Чеснок', 'кг', 3.0),
    ('Сливки 33%', 'л', 8.0),
    ('Масло оливковое', 'л', 12.0),
    ('Хлеб для тостов', 'шт', 30.0),
    ('Яйца', 'шт', 240.0),
    ('Мука', 'кг', 25.0),
    ('Сахар', 'кг', 20.0),
    ('Соль', 'кг', 10.0),
    ('Перец черный', 'кг', 1.5);

-- 4. Состав блюд (связи)
INSERT INTO dish_ingredients (dish_id, ingredient_id, quantity_required) VALUES
    (1, 4, 0.15),  -- Брускетта: помидоры 150г
    (1, 13, 2.0),  -- Брускетта: хлеб 2 шт
    (1, 12, 0.03), -- Брускетта: масло 30мл
    (3, 1, 0.15),  -- Цезарь: курица 150г
    (3, 6, 0.03),  -- Цезарь: пармезан 30г
    (3, 14, 1.0),  -- Цезарь: яйцо 1 шт
    (7, 2, 0.3),   -- Стейк: говядина 300г
    (8, 3, 0.28),  -- Лосось: рыба 280г
    (9, 8, 0.15);  -- Картофель фри: картофель 150г

-- 5. Посетители
INSERT INTO visitors (first_name, last_name, phone, email, loyalty_card) VALUES
    ('Алексей', 'Петров', '+7-999-123-45-67', 'alexey@mail.ru', 'LC-001'),
    ('Мария', 'Иванова', '+7-999-234-56-78', 'maria@yandex.ru', 'LC-002'),
    ('Дмитрий', 'Сидоров', '+7-999-345-67-89', 'dmitry@gmail.com', NULL),
    ('Елена', 'Козлова', '+7-999-456-78-90', 'elena@mail.ru', 'LC-003'),
    ('Сергей', 'Михайлов', '+7-999-567-89-01', 'sergey@yandex.ru', NULL);

-- 6. Официанты
INSERT INTO waiters (first_name, last_name, hire_date, hourly_rate) VALUES
    ('Анна', 'Смирнова', '2023-01-15', 350.00),
    ('Павел', 'Кузнецов', '2023-03-20', 320.00),
    ('Ольга', 'Новикова', '2023-06-10', 330.00),
    ('Иван', 'Попов', '2023-09-05', 300.00);

-- 7. Бронирования
INSERT INTO reservations (visitor_id, table_number, reservation_time, guests_count, status) VALUES
    (1, 5, '2025-03-15 19:00:00', 4, 'confirmed'),
    (2, 3, '2025-03-15 18:30:00', 2, 'confirmed'),
    (3, 7, '2025-03-16 20:00:00', 6, 'confirmed'),
    (1, 2, '2025-03-16 13:00:00', 2, 'confirmed');

-- 8. Заказы
INSERT INTO orders (visitor_id, waiter_id, table_number, order_time, status, total_amount) VALUES
    (1, 1, 5, '2025-03-14 19:15:00', 'paid', 3250.00),
    (2, 2, 3, '2025-03-14 18:45:00', 'paid', 1890.00),
    (3, 3, 7, '2025-03-15 20:30:00', 'served', 2840.00),
    (4, 1, 2, '2025-03-15 13:30:00', 'new', 1050.00);

-- 9. Состав заказов
INSERT INTO order_items (order_id, dish_id, quantity, price_at_moment, special_requests) VALUES
    (1, 7, 2, 1890.00, 'Medium rare'),  -- 2 стейка
    (1, 1, 1, 350.00, NULL),            -- 1 брускетта
    (1, 11, 2, 380.00, NULL),           -- 2 чизкейка
    (2, 8, 1, 1250.00, 'Без соли'),     -- 1 лосось
    (2, 13, 2, 180.00, NULL),           -- 2 морса
    (3, 3, 2, 480.00, NULL),            -- 2 цезаря
    (3, 4, 1, 420.00, NULL),            -- 1 греческий
    (3, 7, 1, 1890.00, 'Well done');    -- 1 стейк прожарка


SELECT 'Тестовые данные добавлены!' as message;
SELECT 'Категорий: ' || COUNT(*) FROM categories;
SELECT 'Блюд: ' || COUNT(*) FROM dishes;
SELECT 'Ингредиентов: ' || COUNT(*) FROM ingredients;
SELECT 'Посетителей: ' || COUNT(*) FROM visitors;
SELECT 'Официантов: ' || COUNT(*) FROM waiters;
SELECT 'Заказов: ' || COUNT(*) FROM orders;